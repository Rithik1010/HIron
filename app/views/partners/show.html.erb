<% provide(:title, @partner.partner_name) %>
<h1> <span class="partner"><%= @partner.partner_name %></span> </h1>
<div class="row">
  <aside class="col-md-4">
    <section class="partner_info">
      <h1>Description :</h1>
      <p>
        <span class="avg-rating">Average Rating</span>
        <span class="avg-review-rating" data-score=<%= @average_review %>></span>
        <span class="number-of-reviews"> <em> From: </em> <%= @partner.reviews.count %> reviews </span>
        <span class="description"><%= @partner.description %></span>
      </p>
      <h2>
        <%= link_to "Book!", book_path(partner_id: params[:id]), class: "btn btn-lg btn-primary" %>
      </h2>
    </section>
  </aside>
  
  <!--<div class="col-md-8">-->
  <!--  <% if @partner.feedbacks.any? %>-->
  <!--    <h3>Feedbacks (<%= @partner.feedbacks.count %>)</h3>-->
  <!--    <ol class="feedbacks">-->
  <!--      <%= render @partner.feedbacks %>-->
  <!--    </ol>-->
  <!--  <% end %>-->
  <!--</div>-->
  
  <div class="col-md-12">
    <div class="reviews">
      <h3> Reviews (<%= @partner.reviews.count %>) 
      <div class="links btn-group"><%= link_to "Write a review", new_partner_review_path(@partner), class: "btn btn-custom" %></div> </h3>
      <ol class="feedbacks">
        <%= render @partner.reviews %>
      </ol>
      </h3>
    </div>
  </div>
</div>

<script>
  $('.review-rating').raty({
    readOnly: true,
    score: function() {
      return $(this).attr('data-score');
    },
    path:'/assets/'
  });
</script>

<script>
  $('.avg-review-rating').raty({
    readOnly: true,
    score: function() {
      return $(this).attr('data-score');
    },
    path: '/assets/'
  });
</script>